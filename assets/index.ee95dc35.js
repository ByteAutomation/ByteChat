import{d as g,c as b,r as c,o as p,a as f,D as w,b as h,e as _,f as d,w as l,u as n,g as D,h as L,C as S,i as x,j as P,k as T,s as N,l as C}from"./vendor.cda98c08.js";const I=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&o(i)}).observe(document,{childList:!0,subtree:!0});function r(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerpolicy&&(a.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?a.credentials="include":s.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function o(s){if(s.ep)return;s.ep=!0;const a=r(s);fetch(s.href,a)}};I();const j=g({setup(e){return(t,r)=>{const o=c("router-view");return p(),b(o)}}});const u={homePage:"/",chatPage:"/chat"},v=f({pageSelected:u.homePage,constants:{}});var k=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",PageIdentity:u,globalDict:v}),M="./assets/logo.7a2ec0e0.png";const J={basic:{jsonToObj(e){return JSON.parse(e)},objToJson(e){return JSON.stringify(e)},dateToTimestamp(e){return typeof e=="string"&&(e=new Date(e)),e.getTime()},timestampToString(e){return e===null?"":new Date(e).toLocaleString()},timestampToDateString(e){return e===null?"":new Date(e).toLocaleDateString()},log:e=>{console.log(e)},print:(e,t=async()=>{})=>{w.alert({message:e,theme:"round-button",confirmButtonText:"Confirm"}).then(async()=>{await t()})},openALink:e=>{window.open(e)}},pages:{switchPage:e=>{v.pageSelected=e,y.push(e)}}};const B={class:"bigBackground"},O={class:"container"},A=_("div",{class:"van-multi-ellipsis--l2 introduction"},"ByteChat is a world-class decentralized communication platform.",-1),$=D("GET IN !"),R=g({setup(e){return f({functions:{}}),(t,r)=>{const o=c("van-image"),s=c("van-row"),a=c("van-button");return p(),h("div",B,[_("div",O,[d(s,{justify:"center"},{default:l(()=>[d(o,{width:"130",height:"130",round:"",src:n(M)},null,8,["src"])]),_:1}),d(s,{justify:"center"},{default:l(()=>[A]),_:1}),d(s,{justify:"center"},{default:l(()=>[d(a,{size:"small",color:"linear-gradient(to right, #ff6034, #ee0a24)",onClick:r[0]||(r[0]=i=>n(J).pages.switchPage(n(k).PageIdentity.chatPage))},{default:l(()=>[$]),_:1})]),_:1})])])}}});const z={class:"bigBackground"},E={class:"container"},F=g({setup(e){const t=f({tempData:{messageLoaded:!1,roomLoaded:!1},data:{rooms:[{roomId:1,roomName:"Room 1",avatar:"/logo.png",unreadCount:4,index:3,lastMessage:{content:"Last message received",senderId:1234,username:"John Doe",timestamp:"10:20",saved:!0,distributed:!1,seen:!1,new:!0},users:[{_id:1234,username:"John Doe",avatar:"/logo.png",status:{state:"online",lastChanged:"today, 14:30"}},{_id:4321,username:"John Snow",avatar:"/logo.png",status:{state:"offline",lastChanged:"14 July, 20:00"}}],typingUsers:[4321]}],messages:[{_id:7890,indexId:12092,content:"Message 1",senderId:1234,username:"John Doe",avatar:"/logo.png",date:"13 November",timestamp:"10:20",system:!1,saved:!0,distributed:!0,seen:!0,deleted:!1,failure:!0,disableActions:!1,disableReactions:!1,reactions:{"\u{1F601}":[1234,4321],"\u{1F970}":[1234]}}],currentUserId:1234},functions:{sendMessage:async({content:r,roomId:o,files:s,replyMessage:a})=>{const i={_id:o,content:r,senderId:1234,username:"John Doe",avatar:"/logo.png",date:"13 November",timestamp:"10:20",system:!1,saved:!0,distributed:!0,seen:!0,deleted:!1,failure:!1,disableActions:!1,disableReactions:!1,files:[]};t.data.messages=[...t.data.messages,i],setTimeout(()=>{t.data.messages=[...t.data.messages,{_id:o,content:"hi you",senderId:4321,username:"yingshaoxo",avatar:"/logo.png",distributed:!0,date:"13 November",timestamp:new Date().toTimeString().split(" ")[0].split(":").slice(0,2).join(":")}]},1e3)}}});return L(async()=>{setTimeout(()=>{t.tempData.messageLoaded=!0,t.tempData.roomLoaded=!0},1e3)}),(r,o)=>(p(),h("div",z,[_("div",E,[d(n(S),{height:"100vh","current-user-id":n(t).data.currentUserId,rooms:n(t).data.rooms,messages:n(t).data.messages,messagesLoaded:n(t).tempData.messageLoaded,roomsLoaded:n(t).tempData.roomLoaded,"rooms-order":"desc",styles:{general:{color:"#0a0a0a",colorSpinner:"#333",borderStyle:"1px solid #e1e4e8"},footer:{background:"#f8f9fa",backgroundReply:"rgba(0, 0, 0, 0.08)"},icons:{search:"#9ca6af"}},onSendMessage:n(t).functions.sendMessage},null,8,["current-user-id","rooms","messages","messagesLoaded","roomsLoaded","styles","onSendMessage"])])]))}}),U=[{path:u.homePage,component:R},{path:u.chatPage,component:F}],y=x({history:P(),routes:U}),m=T(j);m.use(N);m.use(C);m.use(y);m.mount("#app");
