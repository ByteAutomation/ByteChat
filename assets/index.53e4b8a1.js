import{d as m,c as b,r as c,o as p,a as f,D as w,b as h,e as _,f as d,w as u,u as n,g as L,h as D,C as x,i as T,j as S,k as P,s as C,l as I}from"./vendor.cda98c08.js";const M=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))o(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&o(i)}).observe(document,{childList:!0,subtree:!0});function r(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerpolicy&&(a.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?a.credentials="include":s.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function o(s){if(s.ep)return;s.ep=!0;const a=r(s);fetch(s.href,a)}};M();const N=m({setup(e){return(t,r)=>{const o=c("router-view");return p(),b(o)}}});const l={homePage:"/",chatPage:"/chat"},v=f({pageSelected:l.homePage,constants:{}});var j=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",PageIdentity:l,globalDict:v}),k="./assets/logo.7a2ec0e0.png";const B={basic:{jsonToObj(e){return JSON.parse(e)},objToJson(e){return JSON.stringify(e)},dateToTimestamp(e){return typeof e=="string"&&(e=new Date(e)),e.getTime()},timestampToString(e){return e===null?"":new Date(e).toLocaleString()},timestampToDateString(e){return e===null?"":new Date(e).toLocaleDateString()},log:e=>{console.log(e)},print:(e,t=async()=>{})=>{w.alert({message:e,theme:"round-button",confirmButtonText:"Confirm"}).then(async()=>{await t()})},openALink:e=>{window.open(e)}},pages:{switchPage:e=>{v.pageSelected=e,y.push(e)}}};const O={class:"bigBackground"},A={class:"container"},$=_("div",{class:"van-multi-ellipsis--l2 introduction"},"ByteChat is a world-class decentralized communication platform.",-1),J=L("GET IN !"),R=m({setup(e){return f({functions:{}}),(t,r)=>{const o=c("van-image"),s=c("van-row"),a=c("van-button");return p(),h("div",O,[_("div",A,[d(s,{justify:"center"},{default:u(()=>[d(o,{width:"130",height:"130",round:"",src:n(k)},null,8,["src"])]),_:1}),d(s,{justify:"center"},{default:u(()=>[$]),_:1}),d(s,{justify:"center"},{default:u(()=>[d(a,{size:"small",color:"linear-gradient(to right, #ff6034, #ee0a24)",onClick:r[0]||(r[0]=i=>n(B).pages.switchPage(n(j).PageIdentity.chatPage))},{default:u(()=>[J]),_:1})]),_:1})])])}}});const H={class:"bigBackground"},U={class:"container"},z=m({setup(e){const t=f({tempData:{messageLoaded:!1,roomLoaded:!1},data:{rooms:[{roomId:1,roomName:"Chat Room",avatar:"/logo.png",unreadCount:4,index:3,lastMessage:{content:"You got new messages",senderId:1234,username:"John Doe",timestamp:"10:20",saved:!0,distributed:!1,seen:!1,new:!0},users:[{_id:1,username:"Target",avatar:"/logo.png",status:{state:"offline",lastChanged:"today, 14:30"}},{_id:2,username:"yingshaoxo",avatar:"/logo.png",status:{state:"online",lastChanged:"14 July, 20:00"}}],typingUsers:[]}],messages:[{_id:1,indexId:1,content:"Hi there!",senderId:2,username:"yingshaoxo",avatar:"/logo.png",date:"13 November",timestamp:"10:20",system:!0,saved:!0,distributed:!0,seen:!0,deleted:!1,failure:!1,disableActions:!0,disableReactions:!0}],currentUserId:2},functions:{fetchMessages:({room:r,options:o})=>{t.tempData.messageLoaded=!1,setTimeout(()=>{t.tempData.messageLoaded=!0},500)},sendMessage:async({content:r,roomId:o,files:s,replyMessage:a})=>{const i={_id:o,content:r,senderId:t.data.currentUserId,username:"yingshaoxo",avatar:"/logo.png",date:"13 November",timestamp:"10:20",system:!1,saved:!0,distributed:!0,seen:!0,deleted:!1,failure:!1,disableActions:!0,disableReactions:!0,files:[]};t.data.messages=[...t.data.messages,i],setTimeout(()=>{t.data.messages=[...t.data.messages,{_id:o,content:"Hi, You!",senderId:1,username:"Target",avatar:"/logo.png",distributed:!0,date:"13 November",timestamp:new Date().toTimeString().split(" ")[0].split(":").slice(0,2).join(":")}]},1e3)}}});return D(async()=>{setTimeout(()=>{t.tempData.messageLoaded=!0,t.tempData.roomLoaded=!0},1e3)}),(r,o)=>(p(),h("div",H,[_("div",U,[d(n(x),{height:"100vh","current-user-id":n(t).data.currentUserId,rooms:n(t).data.rooms,messages:n(t).data.messages,messagesLoaded:n(t).tempData.messageLoaded,roomsLoaded:n(t).tempData.roomLoaded,"rooms-order":"desc",styles:{general:{color:"#0a0a0a",colorSpinner:"#333",borderStyle:"1px solid #e1e4e8"},footer:{background:"#f8f9fa",backgroundReply:"rgba(0, 0, 0, 0.08)"},icons:{search:"#9ca6af"}},onSendMessage:n(t).functions.sendMessage,onFetchMessages:n(t).functions.fetchMessages},null,8,["current-user-id","rooms","messages","messagesLoaded","roomsLoaded","styles","onSendMessage","onFetchMessages"])])]))}}),E=[{path:l.homePage,component:R},{path:l.chatPage,component:z}],y=T({history:S(),routes:E}),g=P(N);g.use(C);g.use(I);g.use(y);g.mount("#app");
